name: autogenerate-conferences

on:
  push:
    branches: [gh-pages]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: checkoput code
        uses: actions/checkout@v4

      - name: run merge script
        run: bash ${PWD}/utils/merge.sh

      - name: commit autogenerated file
        uses: EndBug/add-and-commit@v9 # You can change this to use a specific version.
        with:
          add: '_data'
          author_name: Andrea
          author_email: andrea@kaist.ac.kr
          fetch: false
          message: 'Autogenerating merged conferences files'
          push: true

      - name: test
        run: ls ${PWD}/_data
